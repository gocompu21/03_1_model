{% extends 'base.html' %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>문제 관리</h2>
        <a href="{% url 'exam:question_create' %}"
            style="padding: 10px 15px; background: green; color: white; text-decoration: none; border-radius: 5px;">문제
            등록 +</a>
    </div>

    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #f0f0f0;">
                <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                <th style="padding: 10px; border: 1px solid #ddd;">회차</th>
                <th style="padding: 10px; border: 1px solid #ddd;">과목</th>
                <th style="padding: 10px; border: 1px solid #ddd;">번호</th>
                <th style="padding: 10px; border: 1px solid #ddd;">지문 (일부)</th>
                <th style="padding: 10px; border: 1px solid #ddd;">관리</th>
            </tr>
        </thead>
        <tbody>
            {% for q in questions %}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">{{ q.id }}</td>
                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">{{ q.exam.round_number }}회</td>
                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">{{ q.subject.name }}</td>
                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">{{ q.number }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ q.content|truncatechars:30 }}</td>
                <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">
                    <a href="{% url 'exam:question_update' q.pk %}" style="color: blue; margin-right: 10px;">수정</a>
                    <a href="{% url 'exam:question_delete' q.pk %}" style="color: red;">삭제</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}